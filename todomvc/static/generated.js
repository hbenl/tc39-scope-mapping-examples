!function(){"use strict";var e=function(e){e.defaults=function(e){if(!e)return e;for(var t=1,o=arguments.length;t<o;t++){var i=arguments[t];if(i)for(var n in i)null==e[n]&&(e[n]=i[n])}return e},e.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var t=/(.)^/,o={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},i=/\\|'|\r|\n|\t|\u2028|\u2029/g;return e.template=function(n,r,a){var l;a=e.defaults({},a,e.templateSettings);var s=new RegExp([(a.escape||t).source,(a.interpolate||t).source,(a.evaluate||t).source].join("|")+"|$","g"),c=0,d="__p+='";n.replace(s,(function(e,t,r,a,l){return d+=n.slice(c,l).replace(i,(function(e){return"\\"+o[e]})),t&&(d+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'"),r&&(d+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),a&&(d+="';\n"+a+"\n__p+='"),c=l+e.length,e})),d+="';\n",a.variable||(d="with(obj||{}){\n"+d+"}\n"),d="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+d+"return __p;\n";try{l=new Function(a.variable||"obj","_",d)}catch(e){throw e.source=d,e}if(r)return l(r,e);var u=function(t){return l.call(this,t,e)};return u.source="function("+(a.variable||"obj")+"){\n"+d+"}",u},e}({});function o(){var e=location.href.indexOf("examples/");return location.href.substr(0,e)}function n(e,t){if(!(this instanceof n))return new n(e,t);var o,i;if("object"!=typeof e)try{e=JSON.parse(e)}catch(e){return}t&&(o=t.template,i=t.framework),!o&&e.templates&&(o=e.templates.todomvc),!i&&document.querySelector("[data-framework]")&&(i=document.querySelector("[data-framework]").dataset.framework),this.template=o,e.backend?(this.frameworkJSON=e.backend,this.frameworkJSON.issueLabel=i,this.append({backend:!0})):e[i]&&(this.frameworkJSON=e[i],this.frameworkJSON.issueLabel=i,this.append()),this.fetchIssueCount()}"todomvc.com"===location.hostname&&(!function(e,t,o,i,n,r,a){e.GoogleAnalyticsObject=n,e[n]=e[n]||function(){(e[n].q=e[n].q||[]).push(arguments)},e[n].l=1*new Date,r=t.createElement(o),a=t.getElementsByTagName(o)[0],r.async=1,r.src="https://www.google-analytics.com/analytics.js",a.parentNode.insertBefore(r,a)}(window,document,"script",0,"ga"),ga("create","UA-31081062-1","auto"),ga("send","pageview")),n.prototype.append=function(t){var i=document.createElement("aside");if(i.innerHTML=e.template(this.template,this.frameworkJSON),i.className="learn",t&&t.backend){var n=i.querySelector(".source-links"),r=n.firstElementChild,a=n.lastElementChild,l=a.getAttribute("href");a.setAttribute("href",l.substr(l.lastIndexOf("http"))),n.innerHTML=r.outerHTML+a.outerHTML}else{var s=i.querySelectorAll(".demo-link");Array.prototype.forEach.call(s,(function(e){"http"!==e.getAttribute("href").substr(0,4)&&e.setAttribute("href",o()+e.getAttribute("href"))}))}document.body.className=(document.body.className+" learn-bar").trim(),document.body.insertAdjacentHTML("afterBegin",i.outerHTML)},n.prototype.fetchIssueCount=function(){var e=document.getElementById("issue-count-link");if(e){var t=e.href.replace("https://github.com","https://api.github.com/repos"),o=new XMLHttpRequest;o.open("GET",t,!0),o.onload=function(t){var o=JSON.parse(t.target.responseText);if(o instanceof Array){var i=o.length;0!==i&&(e.innerHTML="This app has "+i+" open issues",document.getElementById("issue-count").style.display="inline")}},o.send()}},"tastejs.github.io"===location.hostname&&(location.href=location.href.replace("tastejs.github.io/todomvc","todomvc.com")),function(e,t){if(!location.host)return console.info("Miss the info bar? Run TodoMVC from a server to avoid a cross-origin error.");var i=new XMLHttpRequest;i.open("GET",o()+e,!0),i.send(),i.onload=function(){200===i.status&&t&&t(i.responseText)}}("learn.json",n)}(),function(e){"use strict";e.qs=function(e,t){return(t||document).querySelector(e)},e.qsa=function(e,t){return(t||document).querySelectorAll(e)},e.$on=function(e,t,o,i){e.addEventListener(t,o,!!i)},e.$delegate=function(t,o,i,n){var a="blur"===i||"focus"===i;e.$on(t,i,(function(i){var r=i.target,a=e.qsa(o,t);Array.prototype.indexOf.call(a,r)>=0&&n.call(r,i)}),a)},e.$parent=function(t,o){if(t.parentNode)return t.parentNode.tagName.toLowerCase()===o.toLowerCase()?t.parentNode:e.$parent(t.parentNode,o)},NodeList.prototype.forEach=Array.prototype.forEach}(window),function(e){"use strict";var t={},o=1;function i(e,o){if(o=o||function(){},this._dbName=e,!t[e]){t[e]=JSON.stringify({todos:[]})}o.call(this,JSON.parse(t[e]))}i.prototype.find=function(e,o){if(o){var i=JSON.parse(t[this._dbName]).todos;o.call(this,i.filter((function(t){for(var o in e)if(e[o]!==t[o])return!1;return!0})))}},i.prototype.findAll=function(e){(e=e||function(){}).call(this,JSON.parse(t[this._dbName]).todos)},i.prototype.save=function(e,i,n){var r=JSON.parse(t[this._dbName]),a=r.todos;if(i=i||function(){},n){for(var l=0;l<a.length;l++)if(a[l].id===n){for(var s in e)a[l][s]=e[s];break}t[this._dbName]=JSON.stringify(r),i.call(this,a)}else e.id=o++,a.push(e),t[this._dbName]=JSON.stringify(r),i.call(this,[e])},i.prototype.remove=function(e,o){for(var i=JSON.parse(t[this._dbName]),n=i.todos,r=0;r<n.length;r++)if(n[r].id===e){n.splice(r,1);break}t[this._dbName]=JSON.stringify(i),o.call(this,n)},i.prototype.drop=function(e){var o={todos:[]};t[this._dbName]=JSON.stringify(o),e.call(this,o.todos)},e.app=e.app||{},e.app.Store=i}(window),function(e){"use strict";function t(e){this.storage=e}t.prototype.create=function(e,t){t=t||function(){};var o={title:(e=e||"").trim(),completed:!1};this.storage.save(o,t)},t.prototype.read=function(e,t){var o=typeof e;return t=t||function(){},"function"===o?(t=e,this.storage.findAll(t)):"string"===o||"number"===o?(e=parseInt(e,10),this.storage.find({id:e},t)):this.storage.find(e,t)},t.prototype.update=function(e,t,o){this.storage.save(t,o,e)},t.prototype.remove=function(e,t){this.storage.remove(e,t)},t.prototype.removeAll=function(e){this.storage.drop(e)},t.prototype.getCount=function(e){var t={active:0,completed:0,total:0};this.storage.findAll((function(o){o.forEach((function(e){e.completed?t.completed++:t.active++,t.total++})),e(t)}))},e.app=e.app||{},e.app.Model=t}(window),function(e){"use strict";var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},o=function(e){return t[e]},i=/[&<>"'`]/g,n=new RegExp(i.source),r=function(e){return e&&n.test(e)?e.replace(i,o):e};function a(){this.defaultTemplate='<li data-id="{{id}}" class="{{completed}}"><div class="view"><input class="toggle" type="checkbox" {{checked}}><label>{{title}}</label><button class="destroy"></button></div></li>'}a.prototype.show=function(e){var t,o,i="";for(t=0,o=e.length;t<o;t++){var n=this.defaultTemplate,a="",l="";e[t].completed&&(a="completed",l="checked"),i+=n=(n=(n=(n=n.replace("{{id}}",e[t].id)).replace("{{title}}",r(e[t].title))).replace("{{completed}}",a)).replace("{{checked}}",l)}return i},a.prototype.itemCounter=function(e){return`<strong>${e}</strong> item${1===e?"":"s"} left`},a.prototype.clearCompletedButton=function(e){return e>0?"Clear completed":""},e.app=e.app||{},e.app.Template=a}(window),function(e){"use strict";function t(e){this.template=e,this.ENTER_KEY=13,this.ESCAPE_KEY=27,this.$todoList=qs(".todo-list"),this.$todoItemCounter=qs(".todo-count"),this.$clearCompleted=qs(".clear-completed"),this.$main=qs(".main"),this.$footer=qs(".footer"),this.$toggleAllInput=qs(".toggle-all"),this.$toggleAll=qs(".toggle-all-label"),this.$newTodo=qs(".new-todo")}t.prototype._removeItem=function(e){var t=qs(`[data-id="${e}"]`);t&&this.$todoList.removeChild(t)},t.prototype._clearCompletedButton=function(e,t){this.$clearCompleted.textContent=this.template.clearCompletedButton(e),this.$clearCompleted.style.display=t?"block":"none"},t.prototype._setFilter=function(e){qs(".filters .selected").className="",qs(`.filters [href="#/${e}"]`).className="selected"},t.prototype._elementComplete=function(e,t){var o=qs(`[data-id="${e}"]`);o&&(o.className=t?"completed":"",qs("input",o).checked=t)},t.prototype._editItem=function(e,t){var o=qs(`[data-id="${e}"]`);if(o){o.className=`${o.className} editing`;var i=document.createElement("input");i.className="edit",o.appendChild(i),i.focus(),i.value=t}},t.prototype._editItemDone=function(e,t){var o=qs(`[data-id="${e}"]`);if(o){var i=qs("input.edit",o);o.removeChild(i),o.className=o.className.replace("editing",""),qsa("label",o).forEach((function(e){e.textContent=t}))}},t.prototype._replaceContentWithHtml=function(e,t){const o=(new DOMParser).parseFromString(t,"text/html");e.replaceChildren(...o.body.childNodes)},t.prototype.render=function(e,t){var o=this;({showEntries:function(){o._replaceContentWithHtml(o.$todoList,o.template.show(t))},removeItem:function(){o._removeItem(t)},updateElementCount:function(){o._replaceContentWithHtml(o.$todoItemCounter,o.template.itemCounter(t))},clearCompletedButton:function(){o._clearCompletedButton(t.completed,t.visible)},contentBlockVisibility:function(){o.$main.style.display=o.$footer.style.display=t.visible?"block":"none"},toggleAll:function(){o.$toggleAll.checked=t.checked},setFilter:function(){o._setFilter(t)},clearNewTodo:function(){o.$newTodo.value=""},elementComplete:function(){o._elementComplete(t.id,t.completed)},editItem:function(){o._editItem(t.id,t.title)},editItemDone:function(){o._editItemDone(t.id,t.title)}})[e]()},t.prototype._itemId=function(e){var t=$parent(e,"li");return parseInt(t.dataset.id,10)},t.prototype._bindItemEditDone=function(e){var t=this;$delegate(t.$todoList,"li .edit","blur",(function(){this.dataset.iscanceled||e({id:t._itemId(this),title:this.value})})),$delegate(t.$todoList,"li .edit","keypress",(function(e){e.keyCode===t.ENTER_KEY&&this.blur()}))},t.prototype._bindItemEditCancel=function(e){var t=this;$delegate(t.$todoList,"li .edit","keyup",(function(o){o.keyCode===t.ESCAPE_KEY&&(this.dataset.iscanceled=!0,this.blur(),e({id:t._itemId(this)}))}))},t.prototype.bind=function(e,t){var o=this;"newTodo"===e?$on(o.$newTodo,"change",(function(){t(o.$newTodo.value)})):"removeCompleted"===e?$on(o.$clearCompleted,"click",(function(){t()})):"toggleAll"===e?$on(o.$toggleAll,"click",(function(){o.$toggleAllInput.click(),t({completed:o.$toggleAllInput.checked})})):"itemEdit"===e?$delegate(o.$todoList,"li label","dblclick",(function(){t({id:o._itemId(this)})})):"itemRemove"===e?$delegate(o.$todoList,".destroy","click",(function(){t({id:o._itemId(this)})})):"itemToggle"===e?$delegate(o.$todoList,".toggle","click",(function(){t({id:o._itemId(this),completed:this.checked})})):"itemEditDone"===e?o._bindItemEditDone(t):"itemEditCancel"===e&&o._bindItemEditCancel(t)},e.app=e.app||{},e.app.View=t}(window),function(e){"use strict";function t(e,t){var o=this;o.model=e,o.view=t,o.view.bind("newTodo",(function(e){o.addItem(e)})),o.view.bind("itemEdit",(function(e){o.editItem(e.id)})),o.view.bind("itemEditDone",(function(e){o.editItemSave(e.id,e.title)})),o.view.bind("itemEditCancel",(function(e){o.editItemCancel(e.id)})),o.view.bind("itemRemove",(function(e){o.removeItem(e.id)})),o.view.bind("itemToggle",(function(e){o.toggleComplete(e.id,e.completed)})),o.view.bind("removeCompleted",(function(){o.removeCompletedItems()})),o.view.bind("toggleAll",(function(e){o.toggleAll(e.completed)}))}t.prototype.setView=function(e){var o=e.split("/")[1]||"";this._updateFilterState(o)},t.prototype.showAll=function(){var e=this;e.model.read((function(t){e.view.render("showEntries",t)}))},t.prototype.showActive=function(){var e=this;e.model.read({completed:!1},(function(t){e.view.render("showEntries",t)}))},t.prototype.showCompleted=function(){var e=this;e.model.read({completed:!0},(function(t){e.view.render("showEntries",t)}))},t.prototype.addItem=function(e){var t=this;""!==e.trim()&&t.model.create(e,(function(){t.view.render("clearNewTodo"),t._filter(!0)}))},t.prototype.editItem=function(e){var t=this;t.model.read(e,(function(o){t.view.render("editItem",{id:e,title:o[0].title})}))},t.prototype.editItemSave=function(e,t){var o=this;0!==(t=t.trim()).length?o.model.update(e,{title:t},(function(){o.view.render("editItemDone",{id:e,title:t})})):o.removeItem(e)},t.prototype.editItemCancel=function(e){var t=this;t.model.read(e,(function(o){t.view.render("editItemDone",{id:e,title:o[0].title})}))},t.prototype.removeItem=function(e){var t=this;t.model.remove(e,(function(){t.view.render("removeItem",e)})),t._filter()},t.prototype.removeCompletedItems=function(){var e=this;e.model.read({completed:!0},(function(t){t.forEach((function(t){e.removeItem(t.id)}))})),e._filter()},t.prototype.toggleComplete=function(e,t,o){var i=this;i.model.update(e,{completed:t},(function(){i.view.render("elementComplete",{id:e,completed:t})})),o||i._filter()},t.prototype.toggleAll=function(e){var t=this;t.model.read({completed:!e},(function(o){o.forEach((function(o){t.toggleComplete(o.id,e,!0)}))})),t._filter()},t.prototype._updateCount=function(){var e=this;e.model.getCount((function(t){e.view.render("updateElementCount",t.active),e.view.render("clearCompletedButton",{completed:t.completed,visible:t.completed>0}),e.view.render("toggleAll",{checked:t.completed===t.total}),e.view.render("contentBlockVisibility",{visible:t.total>0})}))},t.prototype._filter=function(e){var t=this._activeRoute.charAt(0).toUpperCase()+this._activeRoute.substr(1);this._updateCount(),(e||"All"!==this._lastActiveRoute||this._lastActiveRoute!==t)&&this[`show${t}`](),this._lastActiveRoute=t},t.prototype._updateFilterState=function(e){this._activeRoute=e,""===e&&(this._activeRoute="All"),this._filter(),this.view.render("setFilter",e)},e.app=e.app||{},e.app.Controller=t}(window),function(){"use strict";var t=new function(e){this.storage=new app.Store(e),this.model=new app.Model(this.storage),this.template=new app.Template,this.view=new app.View(this.template),this.controller=new app.Controller(this.model,this.view)}("javascript-es5");function o(){t.controller.setView(document.location.hash)}$on(window,"load",o),$on(window,"hashchange",o)}();
//# sourceMappingURL=generated.js.map